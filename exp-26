#include <stdio.h>
#include <stdlib.h>

int main() {
    FILE *fp;
    int choice;
    char filename[50], ch;

    while (1) {
        printf("\n--- File Management Operations ---\n");
        printf("1. Create File\n2. Write File\n3. Read File\n4. Delete File\n5. Exit\n");
        printf("Enter choice: ");
        scanf("%d", &choice);

        if (choice == 5) break;

        printf("Enter filename: ");
        scanf("%s", filename);

        switch (choice) {
        case 1:
            fp = fopen(filename, "w");
            if (fp)
                printf("File created successfully.\n");
            else
                printf("Error creating file.\n");
            fclose(fp);
            break;

        case 2:
            fp = fopen(filename, "a");
            if (!fp) {
                printf("File not found.\n");
                break;
            }
            printf("Enter text (end with #):\n");
            while ((ch = getchar()) != '#')
                fputc(ch, fp);
            fclose(fp);
            printf("Data written successfully.\n");
            break;

        case 3:
            fp = fopen(filename, "r");
            if (!fp) {
                printf("File not found.\n");
                break;
            }
            printf("File contents:\n");
            while ((ch = fgetc(fp)) != EOF)
                putchar(ch);
            fclose(fp);
            break;

        case 4:
            if (remove(filename) == 0)
                printf("File deleted successfully.\n");
            else
                printf("Error deleting file.\n");
            break;

        default:
            printf("Invalid choice.\n");
        }
    }
    return 0;
}
